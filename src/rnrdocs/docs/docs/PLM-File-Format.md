---
sidebar_position: 4
---

# Описание бинарного формата PLM

###### Date: 2018.08 | Version: 0.1 | Авторы: Александр Евдокимов

**Глоссарий**

**integer** - тип данных, целое положительное число.

**string** - тип данных, строка.

**Ссылки**

Шаблон формата **PLM** для 010 Editor. [Открыть](https://github.com/AlexKimov/HardTruck-RignRoll-file-formats/blob/master/formats/templates/PLM.bt)

## Оглавление
**1.** Введение

**2.** Общая структура формата

**3.** Секции

 **3.1** Заголовок файла

 **3.2** Палитра

## 1. Введение
Этот документ описывает структуру формата файла **PLM**, используемого в игре **Дальнобойщики Путь к Победе** и **Дальнобойщики 2 (Версия 8)**. Формат **PLM** содержит палитру на 256 цветов, а также дополнительные изображения.

Все переменные, перечисленные в таблицах, показаны в порядке их следования в файле.

## 2. Общая структура формата
Формат **PLM** разделен на 2 основные секции и одну дополнительную (см Табл. 1).

#### Таблица 1. Общая Структура
| №     | Секция                | Ссылки            | 
| :---- | :-------------------  | :---------------- |   
| **1** | Заголовок файла       |  |
| **2** | Палитра    |  | 
| **3** | Дополнительные файлы    |  | 

## 3. Секции
### 3.1 Заголовок файла

#### Таблица 2. Структура заголовка файла
| № | Тип данных   | Описание                          | Значение         |
| :-- | :------ | :----------------------------------- | :------------ |
| 1  | string   |  Сигнатура файла "PLM" (4 байта)     | "PLM" |
| 2  | integer   |  Размер файла  (4 байта) |  |

### 3.2 Палитра

#### Таблица 3. Структура секции палитры
| № | Тип данных   | Описание                          | Значение         |
| :-- | :------ | :----------------------------------- | :------------ |
| 1  | string   |  Индентификатор  "PALT" (4 байта)     | "PALT" |
| 2  | integer  |  Размер секции  (4 байта) |  |
| 3  |   |  Палитра |  |

Стандартная 8 битная палитра на 256 цветов по три байта на цвет в формате RGB. [Подробнее](https://ru.wikipedia.org/wiki/8-%D0%B1%D0%B8%D1%82%D0%BD%D1%8B%D0%B9_%D1%86%D0%B2%D0%B5%D1%82#%D0%98%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9_%D1%86%D0%B2%D0%B5%D1%82)

### 3.3 Дополнительные файлы 

#### Таблица 4. Структура секции палитры
| № | Тип данных   | Описание                          | Значение         |
| :-- | :------ | :----------------------------------- | :------------ |
| 1  | string   |  Индентификатор  "OPAC" (4 байта)     | "OPAC" |
| 2  | integer  |  Размер секции  (4 байта) |  |
| 4  | integer  | Ширина (?)  |  |
| 5  | integer  | Высота (?)  |  |
| 6  | integer  | Размер блока (?)  |  |
| 7  |   | Таблица индексов  |  |

#### Таблица 5. Структура секции палитры
| № | Тип данных   | Описание                          | Значение         |
| :-- | :------ | :----------------------------------- | :------------ |
| 1  | string   |  Индентификатор  "FOG" (4 байта)     | "FOG" |
| 2  | integer  |  Размер секции  (4 байта) |  |
| 4  |  integer | Ширина (?)  |  |
| 5  | integer  | Высота (?)  |  |
| 6  | integer  | Размер блока (?)  |  |
| 7  |   | Таблица индексов  |  |

#### Таблица 6. Структура секции палитры
| № | Тип данных   | Описание                          | Значение         |
| :-- | :------ | :----------------------------------- | :------------ |
| 1  | string   |  Индентификатор  "INTE" (4 байта)     | "INTE" |
| 2  | integer  |  Размер секции  (4 байта) |  |
| 4  | integer  | Ширина (?)  |  |
| 5  | integer  | Высота (?)  |  |
| 6  | integer  | Размер блока (?)  |  |
| 7  |   | Таблица индексов  |  |